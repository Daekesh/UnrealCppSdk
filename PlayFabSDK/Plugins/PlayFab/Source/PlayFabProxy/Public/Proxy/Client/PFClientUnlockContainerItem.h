// This is automatically generated by PlayFab SDKGenerator. DO NOT modify this manually!
#pragma once
#include "OnlineBlueprintCallProxyBase.h"

#include "Core/PlayFabClientAPI.h"
#include "Core/PlayFabClientDataModels.h"
#include "Proxy/PlayFabClientBPDataModels.h"
#include "PFClientUnlockContainerItem.generated.h"

UCLASS()
class PLAYFABPROXY_API UPFClientUnlockContainerItem : public UOnlineBlueprintCallProxyBase
{
	GENERATED_UCLASS_BODY()
public:

	UPROPERTY(BlueprintAssignable)
	FBPClientUnlockContainerItemResultDelegate OnSuccess;

	UPROPERTY(BlueprintAssignable)
	FBPClientUnlockContainerItemResultDelegate OnFailure;
	
	// Searches target inventory for an ItemInstance matching the given CatalogItemId, if necessary unlocks it using an appropriate key, and returns the contents of the opened container. If the container (and key when relevant) are consumable (RemainingUses > 0), their RemainingUses will be decremented, consistent with the operation of ConsumeItem.
	UFUNCTION(BlueprintCallable, meta = (BlueprintInternalUseOnly = "true", WorldContext = "WorldContextObject"), Category = "PlayFab|Client|Player Item Management")
	static UPFClientUnlockContainerItem* UnlockContainerItem(UObject* WorldContextObject, class APlayerController* PlayerController, const FString& InContainerItemId, const FString& InCatalogVersion, const FString& InCharacterId);

	// UOnlineBlueprintCallProxyBase interface
	virtual void Activate() override;
	// End of UOnlineBlueprintCallProxyBase interface

private:

	PlayFab::ClientModels::FUnlockContainerItemRequest Request;

	PlayFab::UPlayFabClientAPI::FUnlockContainerItemDelegate	SuccessDelegate;
	PlayFab::FPlayFabErrorDelegate							ErrorDelegate;

	void OnSuccessCallback(const PlayFab::ClientModels::FUnlockContainerItemResult& Result);
	void OnErrorCallback(const PlayFab::FPlayFabError& Error);
};
